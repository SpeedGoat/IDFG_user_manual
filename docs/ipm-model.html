<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.1 Running the IPM | Idaho Fish and Game PopR Website User Manual</title>
  <meta name="description" content="Documentation for IDFG PopR" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="4.1 Running the IPM | Idaho Fish and Game PopR Website User Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Documentation for IDFG PopR" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.1 Running the IPM | Idaho Fish and Game PopR Website User Manual" />
  
  <meta name="twitter:description" content="Documentation for IDFG PopR" />
  

<meta name="author" content="Speedgoat" />


<meta name="date" content="2020-11-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ipm.html"/>
<link rel="next" href="ipm-ex.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="sight.html"><a href="sight.html"><i class="fa fa-check"></i><b>2</b> Sightability</a><ul>
<li class="chapter" data-level="2.1" data-path="sight-de.html"><a href="sight-de.html"><i class="fa fa-check"></i><b>2.1</b> Sightability Data Entry</a><ul>
<li class="chapter" data-level="2.1.1" data-path="sight-de.html"><a href="sight-de.html#gps-data-entry"><i class="fa fa-check"></i><b>2.1.1</b> GPS Data Entry</a></li>
<li class="chapter" data-level="2.1.2" data-path="sight-de.html"><a href="sight-de.html#metadata-entry"><i class="fa fa-check"></i><b>2.1.2</b> Metadata Entry</a></li>
<li class="chapter" data-level="2.1.3" data-path="sight-de.html"><a href="sight-de.html#observation-entry"><i class="fa fa-check"></i><b>2.1.3</b> Observation Entry</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="sight-model.html"><a href="sight-model.html"><i class="fa fa-check"></i><b>2.2</b> Running a Sightability Model</a><ul>
<li class="chapter" data-level="2.2.1" data-path="sight-model.html"><a href="sight-model.html#sight-load"><i class="fa fa-check"></i><b>2.2.1</b> Loading Data</a></li>
<li class="chapter" data-level="2.2.2" data-path="sight-model.html"><a href="sight-model.html#sight-options"><i class="fa fa-check"></i><b>2.2.2</b> Model Options</a></li>
<li class="chapter" data-level="2.2.3" data-path="sight-model.html"><a href="sight-model.html#sight-output"><i class="fa fa-check"></i><b>2.2.3</b> Model Output</a></li>
<li class="chapter" data-level="2.2.4" data-path="sight-model.html"><a href="sight-model.html#sight-admin"><i class="fa fa-check"></i><b>2.2.4</b> Adding Results to IPM</a></li>
<li class="chapter" data-level="2.2.5" data-path="sight-model.html"><a href="sight-model.html#sight-errors"><i class="fa fa-check"></i><b>2.2.5</b> Errors</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="sight-ex.html"><a href="sight-ex.html"><i class="fa fa-check"></i><b>2.3</b> Step-By-Step Sightability Model Example</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="surv.html"><a href="surv.html"><i class="fa fa-check"></i><b>3</b> Survival</a><ul>
<li class="chapter" data-level="3.1" data-path="surv-model.html"><a href="surv-model.html"><i class="fa fa-check"></i><b>3.1</b> Running a Survival Model</a><ul>
<li class="chapter" data-level="3.1.1" data-path="surv-model.html"><a href="surv-model.html#surv-load"><i class="fa fa-check"></i><b>3.1.1</b> Loading Data</a></li>
<li class="chapter" data-level="3.1.2" data-path="surv-model.html"><a href="surv-model.html#surv-options"><i class="fa fa-check"></i><b>3.1.2</b> Model Options</a></li>
<li class="chapter" data-level="3.1.3" data-path="surv-model.html"><a href="surv-model.html#surv-output"><i class="fa fa-check"></i><b>3.1.3</b> Model Output</a></li>
<li class="chapter" data-level="3.1.4" data-path="surv-model.html"><a href="surv-model.html#surv-admin"><i class="fa fa-check"></i><b>3.1.4</b> Adding Results to IPM</a></li>
<li class="chapter" data-level="3.1.5" data-path="surv-model.html"><a href="surv-model.html#surv-errors"><i class="fa fa-check"></i><b>3.1.5</b> Errors</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="surv-ex.html"><a href="surv-ex.html"><i class="fa fa-check"></i><b>3.2</b> Step-By-Step Survival Model Example</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ipm.html"><a href="ipm.html"><i class="fa fa-check"></i><b>4</b> IPM</a><ul>
<li class="chapter" data-level="4.1" data-path="ipm-model.html"><a href="ipm-model.html"><i class="fa fa-check"></i><b>4.1</b> Running the IPM</a><ul>
<li class="chapter" data-level="4.1.1" data-path="ipm-model.html"><a href="ipm-model.html#ipm-load"><i class="fa fa-check"></i><b>4.1.1</b> Loading Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="ipm-model.html"><a href="ipm-model.html#ipm-options"><i class="fa fa-check"></i><b>4.1.2</b> Model Options</a></li>
<li class="chapter" data-level="4.1.3" data-path="ipm-model.html"><a href="ipm-model.html#ipm-output"><i class="fa fa-check"></i><b>4.1.3</b> Model Output</a></li>
<li class="chapter" data-level="4.1.4" data-path="ipm-model.html"><a href="ipm-model.html#ipm-errors"><i class="fa fa-check"></i><b>4.1.4</b> Errors</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ipm-ex.html"><a href="ipm-ex.html"><i class="fa fa-check"></i><b>4.2</b> Step-By-Step IPM Example</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="gl.html"><a href="gl.html"><i class="fa fa-check"></i><b>5</b> Glossary</a><ul>
<li class="chapter" data-level="5.1" data-path="gl-general.html"><a href="gl-general.html"><i class="fa fa-check"></i><b>5.1</b> General</a></li>
<li class="chapter" data-level="5.2" data-path="gl-sight.html"><a href="gl-sight.html"><i class="fa fa-check"></i><b>5.2</b> Sightability</a></li>
<li class="chapter" data-level="5.3" data-path="gl-surv.html"><a href="gl-surv.html"><i class="fa fa-check"></i><b>5.3</b> Survival</a></li>
<li class="chapter" data-level="5.4" data-path="gl-ipm.html"><a href="gl-ipm.html"><i class="fa fa-check"></i><b>5.4</b> IPM</a></li>
<li class="chapter" data-level="5.5" data-path="gl-mcmc.html"><a href="gl-mcmc.html"><i class="fa fa-check"></i><b>5.5</b> MCMC</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Idaho Fish and Game PopR Website User Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ipm-model" class="section level2">
<h2><span class="header-section-number">4.1</span> Running the IPM</h2>
<div id="ipm-load" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Loading Data</h3>
<p>To run an integrated population model select <strong>IPM</strong> in the sidebar then click <strong>Setup</strong>. Running an IPM requires 2 types of data: population estimates from an <a href="gl-ipm.html#gl-ipm-db">IPM database</a> and harvest data from the IDFG database. Start by selecting a species and DAU on the Overview tab, then select the IPM database you want to use and choose how the model incorporates <a href="gl-ipm.html#gl-ipm-weather">future weather</a>. At this point you can review the population estimates from previous models in the plots to the right and the tables along the bottom, but notice that there is no data available in the Harvest tabs. To fix that click the <span style="color: #3c8dbc;"><b>Fetch Harvest Data</b></span> button to download the appropriate data from the IDFG database. Once the download is complete a dialog will confirm that the data has been downloaded and alert you to any errors present in the data (see the <a href="ipm-model.html#ipm-errors">errors</a> section). Now you can review the harvest data in the plots and tables in addition to the population estimates. Data will only be read for the species and DAU selected, so if you switch either selection later you’ll have to download harvest data again.</p>
<p>Once you’ve loaded estimates from the IPM database and downloaded harvest data from SADD you can review everything in the plots to the right and tables below. All data available to the IPM for analysis is shown in these panes. If you cannot find data that should be used by the IPM for analysis in either of these areas then that data has not been made available to the model. This may indicate that the missing data needs to be passed to the IPM via the <a href="sight.html#sight">sightability</a> or <a href="surv.html#surv">survival</a> tabs.</p>
</div>
<div id="ipm-options" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Model Options</h3>
<p>After loading data for a particular species and DAU move on to the Structure tab and use the inputs to define the model that will be run on your data. Use the inputs to define whether the model uses population reconstruction and whether reproduction and survival vary by year or remain constant. If you want to run the IPM with default settings for the current species click the <span style="color: #3c8dbc;"><b>Default Structure</b></span> button below the inputs to load the default settings listed here:</p>
<ul>
<li>Use Population Reconstruction: No</li>
<li>Reproduction: Time Varying</li>
<li>Juvenile Survival: Time Varying</li>
<li>Subadult Survival: Constant (elk only)</li>
<li>Adult Survival: Constant</li>
</ul>
<p>If the IPM doesn’t run or produces poor results with these defaults you can try adjusting the settings to better match the available data, but keep in mind that at least one of the variables must be constant (rather than time varying) for the IPM to work.</p>
<p>The harvest tab allows you to predict future harvest rates and incorporate those predictions into the IPM. First use the slider at the top to select the range of years for which you want to estimate abundance. If your selected range extends beyond the available harvest data use the additional sliders to specify how many animals you expect to be harvested by sex. You can use the <strong>Options</strong> button to set the sliders to the min, mean, median, or max from the existing harvest data, or to use the most recent data available (last). You can also click <span style="color: #3c8dbc;"><b>Reset</b></span> to return to the default (mean) values. Be sure to click on the Harvest tab to the right to preview how your settings will be passed into the IPM.</p>
<p>When you’ve loaded your data, defined your model structure, and provided future harvest estimates (if needed), move on to the Run tab, specify your <a href="gl-mcmc.html#gl-mcmc">MCMC settings</a>, and click <span style="color: #3c8dbc;"><b>Fit Model</b></span> to run the IPM. If no errors are encountered dismiss the dialog and click <strong>Tables</strong> in the sidebar to view your results. If the model fails to run check the <a href="surv-model.html#surv-errors">errors</a> section.</p>
</div>
<div id="ipm-output" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Model Output</h3>
<p>Results are viewed under the <strong>Plots</strong> and <strong>Tables</strong> subheadings on the left under <strong>IPM</strong>. On the tables tab you can view all of the abundance estimates by year, <a href="gl-general.html#gl-age-classes">age class</a>, and sex. The mean estimate, standard deviation, and confidence intervals are reported, along with the <a href="gl-mcmc.html#gl-rhat">BGR diagnostic</a> in the Rhat column. Values greater than 1.1 in this column indicate poor model fit, in which case you may want to adjust the <a href="ipm-model.html#ipm-options">model structure</a> or MCMC settings. Values at or near 1, on the other hand, indicate the model fit the data well.</p>
<p>The <strong>Plots</strong> page shows the estimates plotted over time. Plots are grouped into 4 categories based on the population parameter displayed:</p>
<ul>
<li>Abundance
<ul>
<li>Total abundance</li>
<li>Female abundance by age class</li>
<li>Male abundance by age class</li>
</ul></li>
<li>Ratios
<ul>
<li>Age ratio (young per adult female)</li>
<li>Sex ratio (adult male per adult female)</li>
</ul></li>
<li>Survival
<ul>
<li>Female survival by age class</li>
<li>Male survival by age class</li>
</ul></li>
<li>Misc
<ul>
<li>Growth Rate (λ)</li>
<li>Maximum Sustained Yield (MSY - shows how growth rate, recruitment, and juvenile survival vary with total abundance)</li>
<li>Harvest Rate by sex</li>
<li>Harvest by sex</li>
</ul></li>
</ul>
<p>All plots have tools along the right side which allow the user to zoom in on different sections of the graph, hover over specific points to get detailed information, and save/download as an image file.</p>
<p>To generate a report click on <strong>Build Report</strong> in the sidebar, then click <span style="color: #3c8dbc;"><b>Download</b></span>. When the download is finished click on the saved html file to open it. The report combines information about your settings, input data, and results in a single file. Especially important in the report is the Diagnostics section, which explains how well the model performed and provides guidance on any changes that might improve your results.</p>
</div>
<div id="ipm-errors" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Errors</h3>
<div id="reporting-errors" class="section level6 unnumbered">
<h6>Reporting errors</h6>
<p>This section of the documentation is a work in progress. We need your feedback to identify and document the errors users commonly experience running models with PopR - you can help us by sending an email to <a href="mailto:eric.newkirk@speedgoat.io?cc=josh.nowak@speedgoat.io&amp;subject=PopR%20Error">eric.newkirk@speedgoat.io</a> any time you experience an error on the site. Please include as much information as you can about your settings, data, and the error message you received, including screenshots if possible. Thanks!</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ipm.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ipm-ex.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
